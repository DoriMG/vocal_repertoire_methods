repetition_no_response <- subset(repetition, Response == "No") # Filter data to include only cases where there was NO response
str(repetition_no_response)
model <- glmer(Repeat ~ 1 + (1 | ID_S),
data = repetition_no_response,
family = binomial(link = "logit"))
library(lme4)
model <- glmer(Repeat ~ 1 + (1 | ID_S),
data = repetition_no_response,
family = binomial(link = "logit"))
summary(model)
coefficients <- fixef(model)
odds <- exp(coefficients)
probability <- 1 / (1 + exp(-coefficients))
probability
repetition_no_response
agg_df <- aggregate(df$ID_S, by=list(df$Repeat,df$ID_S), FUN=length)
agg_df
agg_df <- aggregate(df$ID_S, by=list(df$Repeat,df$ID_S), FUN=length)
agg_df
agg_df <- aggregate(repetition_no_response$ID_S, by=list(df$Repeat,df$ID_S), FUN=length)
agg_df
agg_df <- aggregate(repetition_no_response$ID_S, by=list(repetition_no_response$Repeat,repetition_no_response$ID_S), FUN=length)
agg_df
mean(c(15/18, 2/3, 6/16, 1, 6/7, 28, 35, 8, 8/12, 2, 34/38, 1, 1, 1, 1, 5/7)_
mean(c(15/18, 2/3, 6/16, 1, 6/7, 28, 35, 8, 8/12, 2, 34/38, 1, 1, 1, 1, 5/7))
mean(c(15/18, 2/3, 6/16, 1, 6/7, 1, 1, 1, 8/12, 1, 34/38, 1, 1, 1, 1, 5/7))
fig1 = year+orders+open_access+data_avail
library(ggplot2)
library(patchwork)
library(forcats)
library(dplyr)
out_folder = "figs"
data_file =  "merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Count', x='Year of publication')+
theme_classic()
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+theme(axis.text.x=element_blank())
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_avail = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail
fig1 = year+orders+open_access+data_avail
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+theme(axis.text.x=element_blank())
data_avail
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = year+orders+open_access+data_avail+open_access_time+data_avail_time
fig1
library(ggplot2)
library(patchwork)
library(forcats)
library(dplyr)
out_folder = "figs"
data_file =  "merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Count', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Count', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 0.8, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+theme(axis.text.x=element_blank())
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+theme(axis.text.x=element_blank())
data_avail
setwd("D:/Bonn/vocal_repertoire_review/figures")
library(ggplot2)
library(patchwork)
library(forcats)
library(dplyr)
out_folder = "figs"
data_file =  "merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Count', x='Year of publication')+
theme_classic()
year
setwd("D:/Bonn/vocal_repertoire_review/figures")
library(ggplot2)
library(patchwork)
library(forcats)
library(dplyr)
out_folder = "figs"
data_file =  "merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Count', x='Year of publication')+
theme_classic()
setwd("D:/Bonn/vocal_repertoire_review")
library(ggplot2)
library(patchwork)
library(forcats)
library(dplyr)
out_folder = "figs"
data_file =  "merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Count', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Count', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 0.8, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+theme(axis.text.x=element_blank())
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+theme(axis.text.x=element_blank())
data_avail
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
out_folder = "figs"
data_file =  "merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Count', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Count', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 0.8, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+ theme(legend.position="none")
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+ theme(legend.position="none")
data_avail
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = year+orders+open_access+data_avail+open_access_time+data_avail_time
fig1
fig1 = (year|orders)/
(open_access+data_avail)/
(open_access_time+data_avail_time)
fig1
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Number of records', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Count', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 0.8, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+ theme(legend.position="none")
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+ theme(legend.position="none")
data_avail
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = (year|orders)/
(open_access|data_avail)/
(open_access_time|data_avail_time)
fig1
setwd("D:/Bonn/vocal_repertoire_review/figures")
library(ggplot2)
library(patchwork)
library(forcats)
library(dplyr)
out_folder = "figs"
data_file =  "data/merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Number of records', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Count', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 0.8, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+ theme(legend.position="none")
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+ theme(legend.position="none")
data_avail
table(df$Data.availability)
ggsave(file.path(out_folder,'fig1_record_chars.pdf'),fig1, width = 12, height =15)
ggsave(file.path(out_folder,'fig1_record_chars.pdf'),fig1, width = 8, height =10)
out_folder = "figs"
data_file =  "data/merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Number of records', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Count', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 1.0, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+ theme(legend.position="none")
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Count', x='Data availability', fill='Data availability')+
theme_classic()+ theme(legend.position="none")+theme(axis.text.x=element_text(angle = 45, vjust = 1.0, hjust=1))
data_avail
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = (year|orders)/
(open_access|data_avail)/
(open_access_time|data_avail_time)
fig1
ggsave(file.path(out_folder,'fig1_record_chars.pdf'),fig1, width = 8, height =10)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_grouped$Mean = data_grouped$Mean*100
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_grouped$Mean = data_grouped$Mean*100
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = (year|orders)/
(open_access|data_avail)/
(open_access_time|data_avail_time)
fig1
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_grouped$Mean = open_access_grouped$Mean*100
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_grouped$Mean = data_grouped$Mean*100
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = (year|orders)/
(open_access|data_avail)/
(open_access_time|data_avail_time)
fig1
ggsave(file.path(out_folder,'fig1_record_chars.png'),fig1, width = 8, height =10)
out_folder = "figs"
data_file =  "data/merged_data.csv"
df_ori <- read.csv(data_file, header=TRUE, stringsAsFactors=TRUE)
df = df_ori[!duplicated(df_ori$Rayyan.ID), ]
# Year published
year = ggplot(df, aes(Year)) +
geom_histogram()+
labs(y ='Number of studies', x='Year of publication')+
theme_classic()
year
# Orders count
orders = ggplot(df_ori, aes(x = fct_infreq(Order), fill=fct_infreq(Order))) +
geom_bar()+
labs(y ='Number of studies', x='Order', fill='Order')+
theme_classic()+theme(axis.text.x=element_text(angle = 45, vjust = 1.0, hjust=1))
orders
# Open Access
open_access = ggplot(df, aes(x = fct_infreq(Open.access), fill=Open.access)) +
geom_bar()+
labs(y ='Count', x='Open Access', fill='Open Access')+
theme_classic()+ theme(legend.position="none")
open_access
table(df$Open.access)
# Data freely available
data_avail = ggplot(df, aes(x = fct_infreq(Data.availability), fill=fct_infreq(Data.availability))) +
geom_bar()+
labs(y ='Number of studies', x='Data availability', fill='Data availability')+
theme_classic()+ theme(legend.position="none")+theme(axis.text.x=element_text(angle = 45, vjust = 1.0, hjust=1))
data_avail
table(df$Data.availability)
df$open_access = 0
df[df$Open.access=='Yes',]$open_access = 1
open_access_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(open_access, na.rm=TRUE))
open_access_grouped$Mean = open_access_grouped$Mean*100
open_access_time = ggplot(open_access_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Open access papers (%)')+
theme_classic()
open_access_time
df$data_available = 1
df[df$Data.availability=='No',]$data_available = 0
data_grouped = df %>%
group_by(Year) %>%
summarize(Mean = mean(data_available, na.rm=TRUE))
data_grouped$Mean = data_grouped$Mean*100
data_avail_time = ggplot(data_grouped, aes(x = Year, y=Mean)) +
geom_point()+
labs(x ='Year', y='Data available (%)')+
theme_classic()
data_avail_time
fig1 = (year|orders)/
(open_access|data_avail)/
(open_access_time|data_avail_time)
fig1
ggsave(file.path(out_folder,'fig1_record_chars.pdf'),fig1, width = 8, height =10)
ggsave(file.path(out_folder,'fig1_record_chars.png'),fig1, width = 8, height =10)
